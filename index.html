<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Japanese Learning</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
        }
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', 'Noto Sans JP', sans-serif;
        }
        .japanese-text {
            font-family: 'Noto Sans JP', sans-serif;
        }
        .glass-effect {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .dark .glass-effect {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .gradient-text {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .animate-slide-in {
            animation: slideIn 0.5s ease-out forwards;
        }
        .card-hover {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .card-hover:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        .progress-bar {
            transition: width 0.3s ease;
        }
        .bookmark-active {
            fill: #fbbf24;
        }
        .highlight {
            background: linear-gradient(120deg, #fef3c7 0%, #fde68a 100%);
            padding: 2px 4px;
            border-radius: 4px;
        }
        .dark .highlight {
            background: linear-gradient(120deg, #92400e 0%, #b45309 100%);
        }
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        @media (max-width: 640px) {
            .card-hover:active {
                transform: scale(0.98);
            }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 dark:from-gray-900 dark:via-purple-900 dark:to-indigo-900 min-h-screen transition-colors duration-300">

    <div class="fixed bottom-4 sm:bottom-6 right-4 sm:right-6 flex flex-col gap-2 sm:gap-3 z-50">
        <button onclick="toggleDarkMode()" class="w-12 h-12 sm:w-14 sm:h-14 rounded-full bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center card-hover">
            <svg id="darkModeIcon" class="w-5 h-5 sm:w-6 sm:h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
            </svg>
        </button>
        <button onclick="scrollToTop()" class="w-12 h-12 sm:w-14 sm:h-14 rounded-full bg-gradient-to-r from-pink-600 to-purple-600 text-white shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center card-hover">
            <svg class="w-5 h-5 sm:w-6 sm:h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"></path>
            </svg>
        </button>
    </div>



    <header class="sticky top-0 z-40 glass-effect shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 sm:py-4">
            <div class="flex flex-col sm:flex-row items-center justify-between gap-3 sm:gap-4">
                <h1 class="text-xl sm:text-2xl lg:text-3xl font-bold gradient-text text-center sm:text-left">üáØüáµ Interactive Japanese</h1>
            </div>
        </div>
    </header>


    <!-- Main Navigation -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-4 sm:mt-6">
        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 sm:p-6 mb-6">
            <h2 class="text-xl sm:text-2xl font-bold text-gray-800 dark:text-white mb-6 text-center">üáØüáµ Japanese Learning Hub</h2>
            
            <!-- Main Navigation Grid -->
            <div class="grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-8 gap-3 sm:gap-4 mb-6">
                <!-- Lessons -->
                <div class="nav-section">
                    <button onclick="toggleSection('lessons')" class="nav-btn w-full p-3 sm:p-4 rounded-lg bg-gradient-to-br from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white transition-all duration-300 transform hover:scale-105 hover:shadow-lg">
                        <div class="text-center">
                            <div class="text-lg sm:text-xl mb-1">üìö</div>
                            <div class="text-xs sm:text-sm font-bold">Lessons</div>
                        </div>
                    </button>
                </div>

                <!-- Pronunciation -->
                <div class="nav-section">
                    <button onclick="toggleSection('pronunciation')" class="nav-btn w-full p-3 sm:p-4 rounded-lg bg-gradient-to-br from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white transition-all duration-300 transform hover:scale-105 hover:shadow-lg">
                        <div class="text-center">
                            <div class="text-lg sm:text-xl mb-1">üó£Ô∏è</div>
                            <div class="text-xs sm:text-sm font-bold">Pronunciation</div>
                        </div>
                    </button>
                </div>

                <!-- Grammar -->
                <div class="nav-section">
                    <button onclick="toggleSection('grammar')" class="nav-btn w-full p-3 sm:p-4 rounded-lg bg-gradient-to-br from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white transition-all duration-300 transform hover:scale-105 hover:shadow-lg">
                        <div class="text-center">
                            <div class="text-lg sm:text-xl mb-1">üìñ</div>
                            <div class="text-xs sm:text-sm font-bold">Grammar</div>
                        </div>
                    </button>
                </div>

                <!-- Quizzes -->
                <div class="nav-section">
                    <button onclick="toggleSection('quizzes')" class="nav-btn w-full p-3 sm:p-4 rounded-lg bg-gradient-to-br from-yellow-500 to-yellow-600 hover:from-yellow-600 hover:to-yellow-700 text-white transition-all duration-300 transform hover:scale-105 hover:shadow-lg">
                        <div class="text-center">
                            <div class="text-lg sm:text-xl mb-1">üß©</div>
                            <div class="text-xs sm:text-sm font-bold">Quizzes</div>
                        </div>
                    </button>
                </div>

                <!-- Conversations -->
                <div class="nav-section">
                    <button onclick="toggleSection('conversations')" class="nav-btn w-full p-3 sm:p-4 rounded-lg bg-gradient-to-br from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white transition-all duration-300 transform hover:scale-105 hover:shadow-lg">
                        <div class="text-center">
                            <div class="text-lg sm:text-xl mb-1">üí¨</div>
                            <div class="text-xs sm:text-sm font-bold">Conversations</div>
                        </div>
                    </button>
                </div>

                <!-- Examples -->
                <div class="nav-section">
                    <button onclick="toggleSection('examples')" class="nav-btn w-full p-3 sm:p-4 rounded-lg bg-gradient-to-br from-indigo-500 to-indigo-600 hover:from-indigo-600 hover:to-indigo-700 text-white transition-all duration-300 transform hover:scale-105 hover:shadow-lg">
                        <div class="text-center">
                            <div class="text-lg sm:text-xl mb-1">üìù</div>
                            <div class="text-xs sm:text-sm font-bold">Examples</div>
                        </div>
                    </button>
                </div>

                <!-- Bookmarks -->
                <div class="nav-section">
                    <button onclick="toggleSection('bookmarks')" class="nav-btn w-full p-3 sm:p-4 rounded-lg bg-gradient-to-br from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white transition-all duration-300 transform hover:scale-105 hover:shadow-lg">
                        <div class="text-center">
                            <div class="text-lg sm:text-xl mb-1">‚≠ê</div>
                            <div class="text-xs sm:text-sm font-bold">Bookmarks</div>
                        </div>
                    </button>
                </div>

                <!-- Search -->
                <div class="nav-section">
                    <button onclick="toggleSection('search')" class="nav-btn w-full p-3 sm:p-4 rounded-lg bg-gradient-to-br from-teal-500 to-teal-600 hover:from-teal-600 hover:to-teal-700 text-white transition-all duration-300 transform hover:scale-105 hover:shadow-lg">
                        <div class="text-center">
                            <div class="text-lg sm:text-xl mb-1">üîç</div>
                            <div class="text-xs sm:text-sm font-bold">Search</div>
                        </div>
                    </button>
                </div>
            </div>

            <!-- Dynamic Content Sections -->
            <div id="dynamic-content">
                <!-- Lessons Section -->
                <div id="lessons-section" class="content-section hidden">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-lg font-bold text-gray-800 dark:text-white">üìö All Lessons</h3>
                        <div class="flex gap-2">
                            <button id="prev-lesson-btn" onclick="navigateLesson('prev')" class="px-3 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                                ‚Üê Back
                            </button>
                            <button id="next-lesson-btn" onclick="navigateLesson('next')" class="px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                                Next ‚Üí
                            </button>
                        </div>
                    </div>
                    
                    <!-- Lesson Navigation Info -->
                    <div class="mb-4 p-3 bg-blue-50 dark:bg-blue-900/30 rounded-lg border border-blue-200 dark:border-blue-700">
                        <p class="text-sm text-blue-800 dark:text-blue-200">
                            <span class="font-semibold">üí° Tip:</span> Use the Back/Next buttons to navigate between lessons, or click on any lesson card to jump directly to that lesson.
                        </p>
                    </div>
                    
                    <div class="grid grid-cols-3 sm:grid-cols-5 lg:grid-cols-9 gap-2 sm:gap-3">
                        <a href="Lesson1.html" class="lesson-card group relative overflow-hidden rounded-lg bg-gradient-to-br from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white p-3 sm:p-4 text-center transition-all duration-300 transform hover:scale-105 hover:shadow-lg" data-lesson="1">
                            <div class="text-xs sm:text-sm font-bold">Lesson 1</div>
                            <div class="text-xs opacity-90 mt-1">Basics</div>
                        </a>
                        <a href="Lesson2.html" class="lesson-card group relative overflow-hidden rounded-lg bg-gradient-to-br from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white p-3 sm:p-4 text-center transition-all duration-300 transform hover:scale-105 hover:shadow-lg" data-lesson="2">
                            <div class="text-xs sm:text-sm font-bold">Lesson 2</div>
                            <div class="text-xs opacity-90 mt-1">Numbers</div>
                        </a>
                        <a href="Lesson3.html" class="lesson-card group relative overflow-hidden rounded-lg bg-gradient-to-br from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white p-3 sm:p-4 text-center transition-all duration-300 transform hover:scale-105 hover:shadow-lg" data-lesson="3">
                            <div class="text-xs sm:text-sm font-bold">Lesson 3</div>
                            <div class="text-xs opacity-90 mt-1">Places</div>
                        </a>
                        <a href="Lesson4.html" class="lesson-card group relative overflow-hidden rounded-lg bg-gradient-to-br from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white p-3 sm:p-4 text-center transition-all duration-300 transform hover:scale-105 hover:shadow-lg" data-lesson="4">
                            <div class="text-xs sm:text-sm font-bold">Lesson 4</div>
                            <div class="text-xs opacity-90 mt-1">Time</div>
                        </a>
                        <a href="Lesson5.html" class="lesson-card group relative overflow-hidden rounded-lg bg-gradient-to-br from-indigo-500 to-indigo-600 hover:from-indigo-600 hover:to-indigo-700 text-white p-3 sm:p-4 text-center transition-all duration-300 transform hover:scale-105 hover:shadow-lg" data-lesson="5">
                            <div class="text-xs sm:text-sm font-bold">Lesson 5</div>
                            <div class="text-xs opacity-90 mt-1">Daily Life</div>
                        </a>
                        <a href="Lesson6.html" class="lesson-card group relative overflow-hidden rounded-lg bg-gradient-to-br from-yellow-500 to-yellow-600 hover:from-yellow-600 hover:to-yellow-700 text-white p-3 sm:p-4 text-center transition-all duration-300 transform hover:scale-105 hover:shadow-lg" data-lesson="6">
                            <div class="text-xs sm:text-sm font-bold">Lesson 6</div>
                            <div class="text-xs opacity-90 mt-1">Activities</div>
                        </a>
                        <a href="Lesson7.html" class="lesson-card group relative overflow-hidden rounded-lg bg-gradient-to-br from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white p-3 sm:p-4 text-center transition-all duration-300 transform hover:scale-105 hover:shadow-lg" data-lesson="7">
                            <div class="text-xs sm:text-sm font-bold">Lesson 7</div>
                            <div class="text-xs opacity-90 mt-1">Shopping</div>
                        </a>
                        <a href="Lesson8.html" class="lesson-card group relative overflow-hidden rounded-lg bg-gradient-to-br from-teal-500 to-teal-600 hover:from-teal-600 hover:to-teal-700 text-white p-3 sm:p-4 text-center transition-all duration-300 transform hover:scale-105 hover:shadow-lg" data-lesson="8">
                            <div class="text-xs sm:text-sm font-bold">Lesson 8</div>
                            <div class="text-xs opacity-90 mt-1">Adjectives</div>
                        </a>
                        <a href="Lesson9.html" class="lesson-card group relative overflow-hidden rounded-lg bg-gradient-to-br from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white p-3 sm:p-4 text-center transition-all duration-300 transform hover:scale-105 hover:shadow-lg" data-lesson="9">
                            <div class="text-xs sm:text-sm font-bold">Lesson 9</div>
                            <div class="text-xs opacity-90 mt-1">Advanced</div>
                        </a>
                    </div>
                </div>

                <!-- Pronunciation Section -->
                <div id="pronunciation-section" class="content-section hidden">
                    <h3 class="text-lg font-bold text-gray-800 dark:text-white mb-4">üó£Ô∏è Japanese Pronunciation Guide</h3>
                    <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3 sm:gap-4">
                        <div class="pronunciation-card p-4 bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/30 dark:to-emerald-900/30 rounded-lg border border-green-200 dark:border-green-700">
                            <h4 class="font-bold text-green-800 dark:text-green-200 mb-2">Hiragana</h4>
                            <p class="text-sm text-gray-600 dark:text-gray-400">Basic Japanese syllables</p>
                        </div>
                        <div class="pronunciation-card p-4 bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900/30 dark:to-cyan-900/30 rounded-lg border border-blue-200 dark:border-blue-700">
                            <h4 class="font-bold text-blue-800 dark:text-blue-200 mb-2">Katakana</h4>
                            <p class="text-sm text-gray-600 dark:text-gray-400">Foreign words</p>
                        </div>
                        <div class="pronunciation-card p-4 bg-gradient-to-br from-yellow-50 to-amber-50 dark:from-yellow-900/30 dark:to-amber-900/30 rounded-lg border border-yellow-200 dark:border-yellow-700">
                            <h4 class="font-bold text-yellow-800 dark:text-yellow-200 mb-2">Pitch Accent</h4>
                            <p class="text-sm text-gray-600 dark:text-gray-400">Word stress patterns</p>
                        </div>
                        <div class="pronunciation-card p-4 bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-900/30 dark:to-rose-900/30 rounded-lg border border-red-200 dark:border-red-700">
                            <h4 class="font-bold text-red-800 dark:text-red-200 mb-2">Long Vowels</h4>
                            <p class="text-sm text-gray-600 dark:text-gray-400">Extended sounds</p>
                        </div>
                    </div>
                </div>

                <!-- Grammar Section -->
                <div id="grammar-section" class="content-section hidden">
                    <h3 class="text-lg font-bold text-gray-800 dark:text-white mb-4">üìñ Grammar Rules</h3>
                    <div class="space-y-3">
                        <div class="grammar-item p-4 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/30 dark:to-pink-900/30 rounded-lg border-l-4 border-purple-500">
                            <h4 class="font-bold text-purple-800 dark:text-purple-200">Particle „ÅØ (wa)</h4>
                            <p class="text-sm text-gray-600 dark:text-gray-400">Topic marker</p>
                        </div>
                        <div class="grammar-item p-4 bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/30 dark:to-cyan-900/30 rounded-lg border-l-4 border-blue-500">
                            <h4 class="font-bold text-blue-800 dark:text-blue-200">Particle „Çí (o)</h4>
                            <p class="text-sm text-gray-600 dark:text-gray-400">Direct object marker</p>
                        </div>
                        <div class="grammar-item p-4 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/30 dark:to-emerald-900/30 rounded-lg border-l-4 border-green-500">
                            <h4 class="font-bold text-green-800 dark:text-green-200">Particle „Å´ (ni)</h4>
                            <p class="text-sm text-gray-600 dark:text-gray-400">Direction/time marker</p>
                        </div>
                    </div>
                </div>

                <!-- Quizzes Section -->
                <div id="quizzes-section" class="content-section hidden">
                    <h3 class="text-lg font-bold text-gray-800 dark:text-white mb-4">üß© Practice Quizzes</h3>
                    
                    <!-- Quiz Selection -->
                    <div id="quiz-selection" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-6">
                        <div class="quiz-card p-4 bg-gradient-to-br from-yellow-50 to-amber-50 dark:from-yellow-900/30 dark:to-amber-900/30 rounded-lg border border-yellow-200 dark:border-yellow-700">
                            <h4 class="font-bold text-yellow-800 dark:text-yellow-200 mb-2">Hiragana Quiz</h4>
                            <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">Test your hiragana knowledge</p>
                            <button onclick="startQuiz('hiragana')" class="w-full py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors">Start Quiz</button>
                        </div>
                        <div class="quiz-card p-4 bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900/30 dark:to-cyan-900/30 rounded-lg border border-blue-200 dark:border-blue-700">
                            <h4 class="font-bold text-blue-800 dark:text-blue-200 mb-2">Vocabulary Quiz</h4>
                            <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">Test your vocabulary</p>
                            <button onclick="startQuiz('vocabulary')" class="w-full py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors">Start Quiz</button>
                        </div>
                        <div class="quiz-card p-4 bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/30 dark:to-pink-900/30 rounded-lg border border-purple-200 dark:border-purple-700">
                            <h4 class="font-bold text-purple-800 dark:text-purple-200 mb-2">Grammar Quiz</h4>
                            <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">Test your grammar</p>
                            <button onclick="startQuiz('grammar')" class="w-full py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors">Start Quiz</button>
                        </div>
                    </div>

                    <!-- Quiz Content -->
                    <div id="quiz-content" class="hidden">
                        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6">
                            <div class="flex justify-between items-center mb-6">
                                <h4 id="quiz-title" class="text-xl font-bold text-gray-800 dark:text-white"></h4>
                                <div class="flex items-center gap-2">
                                    <span id="quiz-progress" class="text-sm text-gray-600 dark:text-gray-400">Question 1 of 5</span>
                                    <button onclick="backToQuizSelection()" class="px-3 py-1 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm">Back</button>
                                </div>
                            </div>
                            
                            <div class="mb-6">
                                <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2">
                                    <div id="progress-bar" class="bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-300" style="width: 20%"></div>
                                </div>
                            </div>

                            <div id="question-container" class="mb-6">
                                <div id="question-text" class="text-lg font-medium text-gray-800 dark:text-white mb-4"></div>
                                <div id="question-image" class="mb-4"></div>
                                <div id="answer-options" class="space-y-3"></div>
                            </div>

                            <div id="quiz-result" class="hidden text-center">
                                <div class="text-6xl mb-4">üéâ</div>
                                <h3 class="text-2xl font-bold text-gray-800 dark:text-white mb-2">Quiz Complete!</h3>
                                <p id="score-text" class="text-lg text-gray-600 dark:text-gray-400 mb-4"></p>
                                <button onclick="backToQuizSelection()" class="px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg hover:shadow-lg transition-all duration-300">Take Another Quiz</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Conversations Section -->
                <div id="conversations-section" class="content-section hidden">
                    <h3 class="text-lg font-bold text-gray-800 dark:text-white mb-4">üí¨ Practice Conversations</h3>
                    <div class="space-y-3">
                        <div class="conversation-item p-4 bg-gradient-to-r from-pink-50 to-rose-50 dark:from-pink-900/30 dark:to-rose-900/30 rounded-lg border-l-4 border-pink-500">
                            <h4 class="font-bold text-pink-800 dark:text-pink-200">At the Station</h4>
                            <p class="text-sm text-gray-600 dark:text-gray-400">Asking for directions</p>
                        </div>
                        <div class="conversation-item p-4 bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/30 dark:to-purple-900/30 rounded-lg border-l-4 border-indigo-500">
                            <h4 class="font-bold text-indigo-800 dark:text-indigo-200">Shopping</h4>
                            <p class="text-sm text-gray-600 dark:text-gray-400">Buying items at a store</p>
                        </div>
                        <div class="conversation-item p-4 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/30 dark:to-emerald-900/30 rounded-lg border-l-4 border-green-500">
                            <h4 class="font-bold text-green-800 dark:text-green-200">Restaurant</h4>
                            <p class="text-sm text-gray-600 dark:text-gray-400">Ordering food</p>
                        </div>
                    </div>
                </div>

                <!-- Examples Section -->
                <div id="examples-section" class="content-section hidden">
                    <h3 class="text-lg font-bold text-gray-800 dark:text-white mb-4">üìù Example Sentences</h3>
                    <div class="space-y-3">
                        <div class="example-item p-4 bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/30 dark:to-purple-900/30 rounded-lg border-l-4 border-indigo-500">
                            <p class="text-lg japanese-text font-medium text-gray-800 dark:text-white mb-1">ÁßÅ„ÅØÂ≠¶Áîü„Åß„Åô„ÄÇ</p>
                            <p class="text-sm text-gray-600 dark:text-gray-400 mb-1">Watashi wa gakusei desu.</p>
                            <p class="text-sm text-gray-700 dark:text-gray-300">I am a student.</p>
                        </div>
                        <div class="example-item p-4 bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/30 dark:to-cyan-900/30 rounded-lg border-l-4 border-blue-500">
                            <p class="text-lg japanese-text font-medium text-gray-800 dark:text-white mb-1">‰ªäÊó•„ÅØ„ÅÑ„ÅÑÂ§©Ê∞ó„Åß„Åô„ÄÇ</p>
                            <p class="text-sm text-gray-600 dark:text-gray-400 mb-1">Ky≈ç wa ii tenki desu.</p>
                            <p class="text-sm text-gray-700 dark:text-gray-300">Today is nice weather.</p>
                        </div>
                    </div>
                </div>

                <!-- Bookmarks Section -->
                <div id="bookmarks-section" class="content-section hidden">
                    <h3 class="text-lg font-bold text-gray-800 dark:text-white mb-4">‚≠ê Your Bookmarks</h3>
                    <div class="text-center py-8 text-gray-500 dark:text-gray-400">
                        <div class="text-4xl mb-2">‚≠ê</div>
                        <p>No bookmarks yet. Start bookmarking content you want to review later!</p>
                    </div>
                </div>

                <!-- Search Section -->
                <div id="search-section" class="content-section hidden">
                    <h3 class="text-lg font-bold text-gray-800 dark:text-white mb-4">üîç Search Japanese Content</h3>
                    <div class="relative mb-4">
                        <input 
                            type="text" 
                            id="mainSearchInput"
                            placeholder="Search lessons, vocabulary, grammar..." 
                            class="w-full px-4 py-3 rounded-lg border-2 border-teal-300 dark:border-teal-600 dark:bg-gray-800 dark:text-white focus:border-teal-500 focus:outline-none transition-all duration-300"
                            oninput="searchAllContent(this.value)"
                        >
                        <svg class="w-5 h-5 absolute right-3 top-3.5 text-gray-400 dark:text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                        </svg>
                    </div>
                    <div id="search-results" class="space-y-3">
                        <!-- Search results will appear here -->
                    </div>
                </div>
            </div>
        </div>
    </div>


    <main class="max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 py-4 sm:py-8">


        <section class="mb-6 sm:mb-8 animate-slide-in content-section" data-category="conversation">
            <div class="bg-white dark:bg-gray-800 rounded-xl sm:rounded-2xl shadow-xl p-4 sm:p-6 lg:p-8 card-hover transition-colors duration-300">
                <div class="flex flex-col sm:flex-row sm:items-center justify-between mb-4 sm:mb-6 gap-3 sm:gap-0">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500 flex items-center justify-center text-white font-bold text-lg sm:text-xl">1</div>
                        <h2 class="text-xl sm:text-2xl lg:text-3xl font-bold text-gray-800 dark:text-white">Exercise 1: Conversation</h2>
                    </div>
                    <button onclick="toggleBookmark(this, 'conv1')" class="bookmark-btn p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-all duration-300 self-start sm:self-auto">
                        <svg class="w-5 h-5 sm:w-6 sm:h-6 text-gray-400 dark:text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path>
                        </svg>
                    </button>
                </div>

                <div class="mb-4 sm:mb-6">
                    <h3 class="text-lg sm:text-xl font-semibold text-purple-700 dark:text-purple-400 mb-3 sm:mb-4">Does this train go to Hashimoto?</h3>

                    <div class="space-y-3 sm:space-y-4">
                        <div class="conversation-item p-3 sm:p-4 bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/30 dark:to-cyan-900/30 rounded-xl border-l-4 border-blue-500 card-hover cursor-pointer" onclick="speakJapanese('„Åì„ÅÆÈõªËªä„ÅØÊ©ãÊú¨„Å∏Ë°å„Åç„Åæ„Åô„Åã', this)">
                            <div class="flex flex-col sm:flex-row sm:items-start justify-between gap-2 sm:gap-0">
                                <div class="flex-1">
                                    <p class="text-lg sm:text-2xl japanese-text font-medium text-gray-800 dark:text-white mb-1">„Åì„ÅÆÈõªËªä„ÅØÊ©ãÊú¨„Å∏Ë°å„Åç„Åæ„Åô„Åã„ÄÇ</p>
                                    <p class="text-xs sm:text-sm text-gray-600 dark:text-gray-400 mb-1">Kono densha wa Hashimoto e ikimasu ka.</p>
                                    <p class="text-sm sm:text-base text-gray-700 dark:text-gray-300">Does this train go to Hashimoto?</p>
                                </div>
                                <button class="ml-0 sm:ml-4 p-2 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition-all duration-300 self-start sm:self-auto">
                                    <svg class="w-4 h-4 sm:w-5 sm:h-5" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <div class="conversation-item p-3 sm:p-4 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/30 dark:to-emerald-900/30 rounded-xl border-l-4 border-green-500 card-hover cursor-pointer" onclick="speakJapanese('„ÅØ„ÅÑ„ÄÅË°å„Åç„Åæ„Åô', this)">
                            <div class="flex flex-col sm:flex-row sm:items-start justify-between gap-2 sm:gap-0">
                                <div class="flex-1">
                                    <p class="text-lg sm:text-2xl japanese-text font-medium text-gray-800 dark:text-white mb-1">„ÅØ„ÅÑ„ÄÅË°å„Åç„Åæ„Åô„ÄÇ</p>
                                    <p class="text-xs sm:text-sm text-gray-600 dark:text-gray-400 mb-1">Hai, ikimasu.</p>
                                    <p class="text-sm sm:text-base text-gray-700 dark:text-gray-300">Yes, it does.</p>
                                </div>
                                <button class="ml-0 sm:ml-4 p-2 bg-green-500 text-white rounded-full hover:bg-green-600 transition-all duration-300 self-start sm:self-auto">
                                    <svg class="w-4 h-4 sm:w-5 sm:h-5" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <div class="conversation-item p-3 sm:p-4 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/30 dark:to-pink-900/30 rounded-xl border-l-4 border-purple-500 card-hover cursor-pointer" onclick="speakJapanese('„Å©„ÅÜ„ÇÇ„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åó„Åü', this)">
                            <div class="flex flex-col sm:flex-row sm:items-start justify-between gap-2 sm:gap-0">
                                <div class="flex-1">
                                    <p class="text-lg sm:text-2xl japanese-text font-medium text-gray-800 dark:text-white mb-1">„Å©„ÅÜ„ÇÇ„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åó„Åü„ÄÇ</p>
                                    <p class="text-xs sm:text-sm text-gray-600 dark:text-gray-400 mb-1">D≈çmo arigat≈ç gozaimashita.</p>
                                    <p class="text-sm sm:text-base text-gray-700 dark:text-gray-300">Thank you very much.</p>
                                </div>
                                <button class="ml-0 sm:ml-4 p-2 bg-purple-500 text-white rounded-full hover:bg-purple-600 transition-all duration-300 self-start sm:self-auto">
                                    <svg class="w-4 h-4 sm:w-5 sm:h-5" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <div class="conversation-item p-3 sm:p-4 bg-gradient-to-r from-orange-50 to-amber-50 dark:from-orange-900/30 dark:to-amber-900/30 rounded-xl border-l-4 border-orange-500 card-hover cursor-pointer" onclick="speakJapanese('„Å©„ÅÜ„ÅÑ„Åü„Åó„Åæ„Åó„Å¶', this)">
                            <div class="flex flex-col sm:flex-row sm:items-start justify-between gap-2 sm:gap-0">
                                <div class="flex-1">
                                    <p class="text-lg sm:text-2xl japanese-text font-medium text-gray-800 dark:text-white mb-1">„Å©„ÅÜ„ÅÑ„Åü„Åó„Åæ„Åó„Å¶„ÄÇ</p>
                                    <p class="text-xs sm:text-sm text-gray-600 dark:text-gray-400 mb-1">D≈ç itashimashite.</p>
                                    <p class="text-sm sm:text-base text-gray-700 dark:text-gray-300">You're welcome.</p>
                                </div>
                                <button class="ml-0 sm:ml-4 p-2 bg-orange-500 text-white rounded-full hover:bg-orange-600 transition-all duration-300 self-start sm:self-auto">
                                    <svg class="w-4 h-4 sm:w-5 sm:h-5" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <button onclick="markComplete(this)" class="w-full py-3 sm:py-3 bg-gradient-to-r from-green-500 to-emerald-500 text-white font-semibold rounded-xl hover:shadow-lg transition-all duration-300 text-sm sm:text-base">
                    Mark as Complete ‚úì
                </button>
            </div>
        </section>


        <section class="mb-6 sm:mb-8 animate-slide-in content-section" data-category="examples" style="animation-delay: 0.1s">
            <div class="bg-white dark:bg-gray-800 rounded-xl sm:rounded-2xl shadow-xl p-4 sm:p-6 lg:p-8 card-hover transition-colors duration-300">
                <div class="flex flex-col sm:flex-row sm:items-center justify-between mb-4 sm:mb-6 gap-3 sm:gap-0">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center text-white font-bold text-lg sm:text-xl">2</div>
                        <h2 class="text-xl sm:text-2xl lg:text-3xl font-bold text-gray-800 dark:text-white">Exercise 2: Example Sentences</h2>
                    </div>
                    <button onclick="toggleBookmark(this, 'examples1')" class="bookmark-btn p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-all duration-300 self-start sm:self-auto">
                        <svg class="w-5 h-5 sm:w-6 sm:h-6 text-gray-400 dark:text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path>
                        </svg>
                    </button>
                </div>

                <div class="grid gap-3 sm:gap-4">
                    <div class="example-card p-4 sm:p-5 bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-indigo-900/30 dark:to-purple-900/30 rounded-xl border border-indigo-200 dark:border-indigo-700 card-hover cursor-pointer" onclick="speakJapanese('ÁßÅ„ÅØÊ©ãÊú¨„Å∏Ë°å„Åç„Åæ„Åô', this)">
                        <div class="flex flex-col sm:flex-row sm:items-start justify-between gap-2 sm:gap-0">
                            <div class="flex-1">
                                <div class="flex items-center gap-2 mb-2">
                                    <span class="px-2 sm:px-3 py-1 bg-indigo-500 text-white text-xs font-semibold rounded-full">1</span>
                                </div>
                                <p class="text-lg sm:text-2xl japanese-text font-medium text-gray-800 dark:text-white mb-2">ÁßÅ„ÅØÊ©ãÊú¨„Å∏Ë°å„Åç„Åæ„Åô„ÄÇ</p>
                                <p class="text-xs sm:text-sm text-gray-600 dark:text-gray-400 mb-1">Watashi wa Hashimoto e ikimasu.</p>
                                <p class="text-sm sm:text-base text-gray-700 dark:text-gray-300">I will go to Hashimoto.</p>
                            </div>
                            <button class="ml-0 sm:ml-4 p-2 bg-indigo-500 text-white rounded-full hover:bg-indigo-600 transition-all duration-300 self-start sm:self-auto">
                                <svg class="w-4 h-4 sm:w-5 sm:h-5" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z"></path>
                                </svg>
                            </button>
                        </div>
                    </div>

                    <div class="example-card p-4 sm:p-5 bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900/30 dark:to-cyan-900/30 rounded-xl border border-blue-200 dark:border-blue-700 card-hover cursor-pointer" onclick="speakJapanese('ÁßÅ„ÅØ‰∫¨ÈÉΩ„Å∏Ë°å„Åç„Åæ„Åô', this)">
                        <div class="flex flex-col sm:flex-row sm:items-start justify-between gap-2 sm:gap-0">
                            <div class="flex-1">
                                <div class="flex items-center gap-2 mb-2">
                                    <span class="px-2 sm:px-3 py-1 bg-blue-500 text-white text-xs font-semibold rounded-full">2</span>
                                </div>
                                <p class="text-lg sm:text-2xl japanese-text font-medium text-gray-800 dark:text-white mb-2">ÁßÅ„ÅØ‰∫¨ÈÉΩ„Å∏Ë°å„Åç„Åæ„Åô„ÄÇ</p>
                                <p class="text-xs sm:text-sm text-gray-600 dark:text-gray-400 mb-1">Watashi wa Ky≈çto e ikimasu.</p>
                                <p class="text-sm sm:text-base text-gray-700 dark:text-gray-300">I will go to Kyoto.</p>
                            </div>
                            <button class="ml-0 sm:ml-4 p-2 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition-all duration-300 self-start sm:self-auto">
                                <svg class="w-4 h-4 sm:w-5 sm:h-5" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z"></path>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>

                <button onclick="markComplete(this)" class="w-full py-3 sm:py-3 bg-gradient-to-r from-green-500 to-emerald-500 text-white font-semibold rounded-xl hover:shadow-lg transition-all duration-300 text-sm sm:text-base">
                    Mark as Complete ‚úì
                </button>
            </div>
        </section>
    </main>

    <script>
        // Navigation functionality
        function toggleSection(sectionName) {
            // Hide all content sections
            const sections = document.querySelectorAll('.content-section');
            sections.forEach(section => {
                section.classList.add('hidden');
            });

            // Show selected section
            const targetSection = document.getElementById(sectionName + '-section');
            if (targetSection) {
                targetSection.classList.remove('hidden');
                
                // Initialize lesson navigation if lessons section is shown
                if (sectionName === 'lessons') {
                    initializeLessonNavigation();
                }
            }

            // Update active nav button
            const navButtons = document.querySelectorAll('.nav-btn');
            navButtons.forEach(btn => {
                btn.classList.remove('ring-2', 'ring-white', 'ring-opacity-50');
            });
            
            // Add active state to clicked button
            event.target.closest('.nav-btn').classList.add('ring-2', 'ring-white', 'ring-opacity-50');
        }

        // Search functionality
        function searchAllContent(query) {
            const resultsContainer = document.getElementById('search-results');
            if (!query.trim()) {
                resultsContainer.innerHTML = '';
                return;
            }

            // Mock search results - in a real app, this would search through actual content
            const mockResults = [
                {
                    title: 'Lesson 1: Basic Greetings',
                    description: 'Learn basic Japanese greetings and introductions',
                    type: 'Lesson',
                    url: 'Lesson1.html'
                },
                {
                    title: 'Particle „ÅØ (wa)',
                    description: 'Topic marker particle in Japanese grammar',
                    type: 'Grammar',
                    url: '#'
                },
                {
                    title: 'Hiragana Chart',
                    description: 'Complete hiragana pronunciation guide',
                    type: 'Pronunciation',
                    url: '#'
                }
            ];

            const filteredResults = mockResults.filter(result => 
                result.title.toLowerCase().includes(query.toLowerCase()) ||
                result.description.toLowerCase().includes(query.toLowerCase())
            );

            resultsContainer.innerHTML = filteredResults.map(result => `
                <div class="search-result p-4 bg-gradient-to-r from-teal-50 to-cyan-50 dark:from-teal-900/30 dark:to-cyan-900/30 rounded-lg border-l-4 border-teal-500">
                    <h4 class="font-bold text-teal-800 dark:text-teal-200">${result.title}</h4>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">${result.description}</p>
                    <span class="inline-block px-2 py-1 bg-teal-500 text-white text-xs rounded-full">${result.type}</span>
                </div>
            `).join('');
        }

        // Existing functions
        function toggleDarkMode() {
            document.documentElement.classList.toggle('dark');
            const icon = document.getElementById('darkModeIcon');
            if (document.documentElement.classList.contains('dark')) {
                icon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>';
            } else {
                icon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>';
            }
        }

        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function filterContent(category) {
            const sections = document.querySelectorAll('.content-section');
            const tabs = document.querySelectorAll('.tab-btn');
            
            tabs.forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');

            sections.forEach(section => {
                if (category === 'all' || section.dataset.category === category) {
                    section.style.display = 'block';
                } else {
                    section.style.display = 'none';
                }
            });
        }

        function speakJapanese(text, element) {
            if ('speechSynthesis' in window) {
                window.speechSynthesis.cancel();
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'ja-JP';
                utterance.rate = 0.8;
                utterance.pitch = 1;
                window.speechSynthesis.speak(utterance);
                
                // Visual feedback
                element.style.transform = 'scale(0.98)';
                setTimeout(() => {
                    element.style.transform = 'scale(1)';
                }, 150);
            }
        }

        function toggleBookmark(button, id) {
            const svg = button.querySelector('svg');
            const isBookmarked = svg.classList.contains('bookmark-active');
            
            if (isBookmarked) {
                svg.classList.remove('bookmark-active');
                svg.style.fill = 'none';
            } else {
                svg.classList.add('bookmark-active');
                svg.style.fill = '#fbbf24';
            }
        }

        function markComplete(button) {
            button.textContent = 'Completed ‚úì';
            button.classList.remove('from-green-500', 'to-emerald-500');
            button.classList.add('from-gray-500', 'to-gray-600');
            button.disabled = true;
        }

        // Quiz functionality
        let currentQuiz = null;
        let currentQuestion = 0;
        let score = 0;
        let quizData = {
            hiragana: {
                title: "Hiragana Quiz",
                questions: [
                    {
                        question: "What is the hiragana for 'a'?",
                        options: ["„ÅÇ", "„ÅÑ", "„ÅÜ", "„Åà"],
                        correct: 0
                    },
                    {
                        question: "What is the hiragana for 'ka'?",
                        options: ["„Åã", "„Åç", "„Åè", "„Åë"],
                        correct: 0
                    },
                    {
                        question: "What is the hiragana for 'sa'?",
                        options: ["„Åï", "„Åó", "„Åô", "„Åõ"],
                        correct: 0
                    },
                    {
                        question: "What is the hiragana for 'ta'?",
                        options: ["„Åü", "„Å°", "„Å§", "„Å¶"],
                        correct: 0
                    },
                    {
                        question: "What is the hiragana for 'na'?",
                        options: ["„Å™", "„Å´", "„Å¨", "„Å≠"],
                        correct: 0
                    }
                ]
            },
            vocabulary: {
                title: "Vocabulary Quiz",
                questions: [
                    {
                        question: "What does '„Åì„Çì„Å´„Å°„ÅØ' mean?",
                        options: ["Good morning", "Hello/Good afternoon", "Good evening", "Goodbye"],
                        correct: 1
                    },
                    {
                        question: "What does '„ÅÇ„Çä„Åå„Å®„ÅÜ' mean?",
                        options: ["Please", "Thank you", "Excuse me", "Sorry"],
                        correct: 1
                    },
                    {
                        question: "What does '„Åô„Åø„Åæ„Åõ„Çì' mean?",
                        options: ["Thank you", "Excuse me/Sorry", "Please", "Goodbye"],
                        correct: 1
                    },
                    {
                        question: "What does '„ÅÑ„Åà' mean?",
                        options: ["School", "House", "Car", "Book"],
                        correct: 1
                    },
                    {
                        question: "What does '„Åø„Åö' mean?",
                        options: ["Fire", "Water", "Earth", "Air"],
                        correct: 1
                    }
                ]
            },
            grammar: {
                title: "Grammar Quiz",
                questions: [
                    {
                        question: "Which particle marks the topic?",
                        options: ["„Çí (o)", "„Å´ (ni)", "„ÅØ (wa)", "„Åß (de)"],
                        correct: 2
                    },
                    {
                        question: "Which particle marks the direct object?",
                        options: ["„ÅØ (wa)", "„Çí (o)", "„Å´ (ni)", "„Åß (de)"],
                        correct: 1
                    },
                    {
                        question: "What does '„Åß„Åô' mean?",
                        options: ["is/am/are", "was/were", "will be", "have/has"],
                        correct: 0
                    },
                    {
                        question: "How do you make a question in Japanese?",
                        options: ["Add „Åã (ka)", "Add „Å≠ (ne)", "Add „Çà (yo)", "Add „Çè (wa)"],
                        correct: 0
                    },
                    {
                        question: "What is the polite form of 'I'?",
                        options: ["„Åº„Åè (boku)", "„Åä„Çå (ore)", "„Çè„Åü„Åó (watashi)", "„Åç„Åø (kimi)"],
                        correct: 2
                    }
                ]
            }
        };

        function startQuiz(quizType) {
            currentQuiz = quizType;
            currentQuestion = 0;
            score = 0;
            
            document.getElementById('quiz-selection').classList.add('hidden');
            document.getElementById('quiz-content').classList.remove('hidden');
            document.getElementById('quiz-result').classList.add('hidden');
            
            document.getElementById('quiz-title').textContent = quizData[quizType].title;
            
            showQuestion();
        }

        function showQuestion() {
            const question = quizData[currentQuiz].questions[currentQuestion];
            const progress = ((currentQuestion + 1) / quizData[currentQuiz].questions.length) * 100;
            
            document.getElementById('quiz-progress').textContent = `Question ${currentQuestion + 1} of ${quizData[currentQuiz].questions.length}`;
            document.getElementById('progress-bar').style.width = progress + '%';
            document.getElementById('question-text').textContent = question.question;
            
            const optionsContainer = document.getElementById('answer-options');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'w-full p-4 text-left bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-600 hover:from-blue-50 hover:to-blue-100 dark:hover:from-blue-900/30 dark:hover:to-blue-800/30 rounded-lg border border-gray-200 dark:border-gray-600 transition-all duration-300 transform hover:scale-105';
                button.textContent = option;
                button.onclick = () => selectAnswer(index);
                optionsContainer.appendChild(button);
            });
        }

        function selectAnswer(selectedIndex) {
            const question = quizData[currentQuiz].questions[currentQuestion];
            const options = document.querySelectorAll('#answer-options button');
            
            // Disable all buttons
            options.forEach(btn => btn.disabled = true);
            
            // Show correct/incorrect answers
            options.forEach((btn, index) => {
                if (index === question.correct) {
                    btn.classList.remove('from-gray-50', 'to-gray-100', 'dark:from-gray-700', 'dark:to-gray-600');
                    btn.classList.add('from-green-50', 'to-green-100', 'dark:from-green-900/30', 'dark:to-green-800/30', 'border-green-500');
                } else if (index === selectedIndex && index !== question.correct) {
                    btn.classList.remove('from-gray-50', 'to-gray-100', 'dark:from-gray-700', 'dark:to-gray-600');
                    btn.classList.add('from-red-50', 'to-red-100', 'dark:from-red-900/30', 'dark:to-red-800/30', 'border-red-500');
                }
            });
            
            if (selectedIndex === question.correct) {
                score++;
            }
            
            // Move to next question after a delay
            setTimeout(() => {
                currentQuestion++;
                if (currentQuestion < quizData[currentQuiz].questions.length) {
                    showQuestion();
                } else {
                    showQuizResult();
                }
            }, 1500);
        }

        function showQuizResult() {
            document.getElementById('question-container').classList.add('hidden');
            document.getElementById('quiz-result').classList.remove('hidden');
            
            const percentage = Math.round((score / quizData[currentQuiz].questions.length) * 100);
            const scoreText = document.getElementById('score-text');
            
            if (percentage >= 80) {
                scoreText.textContent = `Excellent! You scored ${score}/${quizData[currentQuiz].questions.length} (${percentage}%)`;
                scoreText.className = 'text-lg text-green-600 dark:text-green-400 mb-4';
            } else if (percentage >= 60) {
                scoreText.textContent = `Good job! You scored ${score}/${quizData[currentQuiz].questions.length} (${percentage}%)`;
                scoreText.className = 'text-lg text-yellow-600 dark:text-yellow-400 mb-4';
            } else {
                scoreText.textContent = `Keep practicing! You scored ${score}/${quizData[currentQuiz].questions.length} (${percentage}%)`;
                scoreText.className = 'text-lg text-red-600 dark:text-red-400 mb-4';
            }
        }

        function backToQuizSelection() {
            document.getElementById('quiz-selection').classList.remove('hidden');
            document.getElementById('quiz-content').classList.add('hidden');
            document.getElementById('quiz-result').classList.add('hidden');
        }

        // Lesson navigation functionality
        let currentLessonIndex = 0;
        const lessonData = [
            { number: 1, title: "Basics", file: "Lesson1.html", color: "blue" },
            { number: 2, title: "Numbers", file: "Lesson2.html", color: "green" },
            { number: 3, title: "Places", file: "Lesson3.html", color: "purple" },
            { number: 4, title: "Time", file: "Lesson4.html", color: "pink" },
            { number: 5, title: "Daily Life", file: "Lesson5.html", color: "indigo" },
            { number: 6, title: "Activities", file: "Lesson6.html", color: "yellow" },
            { number: 7, title: "Shopping", file: "Lesson7.html", color: "red" },
            { number: 8, title: "Adjectives", file: "Lesson8.html", color: "teal" },
            { number: 9, title: "Advanced", file: "Lesson9.html", color: "orange" }
        ];

        function navigateLesson(direction) {
            if (direction === 'next' && currentLessonIndex < lessonData.length - 1) {
                currentLessonIndex++;
            } else if (direction === 'prev' && currentLessonIndex > 0) {
                currentLessonIndex--;
            }
            
            // Navigate to the actual lesson file
            const targetLesson = lessonData[currentLessonIndex];
            window.location.href = targetLesson.file;
        }

        function updateLessonNavigation() {
            const prevBtn = document.getElementById('prev-lesson-btn');
            const nextBtn = document.getElementById('next-lesson-btn');
            
            // Update button states
            prevBtn.disabled = currentLessonIndex === 0;
            nextBtn.disabled = currentLessonIndex === lessonData.length - 1;
            
            // Update button text to show current lesson
            if (currentLessonIndex > 0) {
                prevBtn.textContent = `‚Üê ${lessonData[currentLessonIndex - 1].title}`;
            } else {
                prevBtn.textContent = '‚Üê Back';
            }
            
            if (currentLessonIndex < lessonData.length - 1) {
                nextBtn.textContent = `${lessonData[currentLessonIndex + 1].title} ‚Üí`;
            } else {
                nextBtn.textContent = 'Next ‚Üí';
            }
        }

        // Initialize lesson navigation when lessons section is shown
        function initializeLessonNavigation() {
            currentLessonIndex = 0;
            updateLessonNavigation();
        }

        // Event listeners
        // Initialize with no section visible by default
        document.addEventListener('DOMContentLoaded', function() {
            // All sections start hidden, user clicks navigation to show content
        });
    </script>
</body>
</html>
